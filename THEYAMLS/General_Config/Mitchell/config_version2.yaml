# **=============================== ä»£ç†é…ç½® ===============================**
# æœºåœº/ä»£ç†æä¾›è€…è®¾ç½®ï¼Œç”¨äºä»ä¸åŒçš„æ¥æºæä¾›ä»£ç†èŠ‚ç‚¹
dy: &dy
  type: http
  udp: true
  interval: 86400
  proxy: DIRECTLY
  lazy: true
  health-check:
    enable: true
    url: https://cp.cloudflare.com/generate_204
    interval: 600
    timeout: 5 # ç§’
    lazy: true
    expected-status: "204"
    method: HEAD
  # âš ï¸ smux å¤šè·¯å¤ç”¨ï¼šéƒ¨åˆ†æœºåœºä¸æ”¯æŒï¼Œå¦‚è¿æ¥å¤±è´¥è¯·æ³¨é‡Šæœ¬æ®µ
  # ç¨³å®šæ€§å‡ºç°é—®é¢˜ï¼Œå¯ä»¥å°è¯•åˆ‡æ¢ä¸º smux4 æˆ–ç¦ç”¨ paddingã€‚
  smux: # smuxï¼ˆè¿æ¥å¤ç”¨ï¼Œæå‡å¤šè·¯å¤ç”¨æ•ˆç‡ï¼Œå‡å°‘æ¡æ‰‹ï¼‰
    enabled: true # å¼€å¯ smux å¤šè·¯å¤ç”¨
    padding: true # å¢åŠ éšæœºæ•°æ®ï¼Œé˜²æ¢æµ‹ï¼ˆæ¨èå¼€ï¼‰
    protocol: smux # æˆ– smux4

u: &u # **æ‰€æœ‰è®¢é˜…ç»„å¼•ç”¨**
  use:
    - 1.p1
    - 2.p2
    - 3.p3
    - 4.p4

u_s: &u_s # **ä¸»ç”¨è®¢é˜…ç»„å¼•ç”¨**
  use:
    - 2.p2
    - 3.p3

# **å„ç§ä»£ç†æä¾›è€…ï¼ˆæœºåœºï¼‰çš„è®¢é˜…é…ç½®**
proxy-providers:
  1.p1:
    url: "â€œ
    path: ./proxy_provider/p1.yaml
    lazy: true
    <<: *dy
    override:
      additional-prefix: "p1 Â»"
      health-check:
        enable: false

  2.p2:
    url: ""
    path: ./proxy_provider/p2.yaml
    <<: *dy
    override:
      additional-prefix: "p2 Â»"

  3.p3:
    url: ""
    path: ./proxy_provider/p3.yaml
    lazy: true
    <<: *dy
    override:
      additional-prefix: "p3 Â»"
      health-check:
        enable: false

  4.p4: 
    url: ""
    path: ./proxy_provider/p4.yaml
    <<: *dy
    override:
      additional-prefix: "p4 Â»"

# **=============================== èŠ‚ç‚¹ä¿¡æ¯ ===============================**
proxies:
  - { name: DIRECTLY, type: direct, udp: true }

# **=============================== DNS é…ç½® ===============================**
# DNS è§£æé…ç½®ï¼Œå†³å®šäº†åŸŸåè§£ææ–¹å¼å’Œç¼“å­˜ç­–ç•¥
dns:
  enable: true # å¯ç”¨ DNS åŠŸèƒ½
  ipv6: true 
  listen: 0.0.0.0:1053 # ç›‘å¬åœ°å€å’Œç«¯å£
  prefer-h3: false     # å¦‚æœDNSæœåŠ¡å™¨æ”¯æŒDoH3ä¼šä¼˜å…ˆä½¿ç”¨h3ï¼Œæå‡æ€§èƒ½
  respect-rules: true  # è®© DNS è§£æéµå¾ª Clash çš„è·¯ç”±è§„åˆ™
  cache-algorithm: arc # ä½¿ç”¨æ€§èƒ½æ›´ä¼˜çš„ ARC ç¼“å­˜ç®—æ³•
  cache-size: 2048     # é™åˆ¶ç¼“å­˜å¤§å°ï¼Œé¿å…å ç”¨è¿‡å¤šå†…å­˜

  use-hosts: false        # ä½¿ç”¨hosts
  use-system-hosts: false # ä½¿ç”¨ç³»ç»Ÿhosts
  
  # å¯ç”¨ Fake-IP æ¨¡å¼ï¼Œè¿™æ˜¯å¼ºåˆ¶åŠ«æŒæ‰€æœ‰ DNS è¯·æ±‚çš„å…³é”®ã€‚
  enhanced-mode: fake-ip       # è®¾ç½®å¢å¼ºæ¨¡å¼ä¸º fake-ip æ¨¡å¼ï¼Œæé«˜è§£æé€Ÿåº¦å’Œè¿æ¥æ€§èƒ½
  fake-ip-range: 198.18.0.1/16 # fake-ip åœ°å€èŒƒå›´
  # Fake-IP è¿‡æ»¤å™¨ï¼šç¡®ä¿å›½å†…åŸŸåä¸è¢« Fake-IP è½¬æ¢ã€‚
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - "rule-set:private_domain,cn_domain"
    - "geosite:connectivity-check"
    - "geosite:private"
    - "rule-set:fake_ip_filter_DustinWin"
  #    - "rule-set:fake_ip_filter_juewuy"

  default-nameserver:
    - 1.1.1.1                    # Cloudflare Public DNS (UDP)
    - 8.8.8.8                    # Google Public DNS (UDP)
   # ä¸ºé…åˆrulesä¸­çš„IP-CIDRæ³¨é‡Šæ‰ï¼Œé˜²æ­¢dnsæ³„éœ²ï¼ˆå¯ç”¨å°±æ³„éœ²ï¼‰
#    - 223.5.5.5                 # é˜¿é‡Œï¼ˆå›½å†…ï¼‰
#    - 119.29.29.29              # è…¾è®¯ï¼ˆå›½å†…ï¼‰
#    - system # ç³»ç»Ÿ DNS (ä¿ç•™ä»¥é˜²ä¸‡ä¸€)

  #`nameserver-policy` ç²¾å‡†åˆ†æµä¸ä¸¥æ ¼å…œåº•ã€‚**
  # ç¡®ä¿å›½å†…åŸŸåèµ°å›½å†… DNSï¼Œå¢ƒå¤–åŸŸåèµ°å¢ƒå¤– DNSã€‚è¿™æ˜¯è§£å†³é—®é¢˜çš„å…³é”®ã€‚
  # è¿™æ˜¯ Clash è¿›è¡Œä¸»è¦ DNS æŸ¥è¯¢æ—¶ä½¿ç”¨çš„æœåŠ¡å™¨åˆ—è¡¨ã€‚
  nameserver: # é»˜è®¤ DNSï¼Œä¾›æ‰€æœ‰è¯·æ±‚ä½¿ç”¨ï¼Œæ”¯æŒ DoH3 çš„åœ¨å‰é¢
    - https://1.1.1.1/dns-query    # Cloudflareï¼ˆæ”¯æŒ H3ï¼‰
    - https://dns.google/dns-query # Googleï¼ˆæ”¯æŒ H3ï¼‰
    - 1.1.1.1                      # Cloudflare Public DNS (UDP)
    - 8.8.8.8                      # Google Public DNS (UDP)
   # ä¸ºé…åˆrulesä¸­çš„IP-CIDRæ³¨é‡Šæ‰ï¼Œé˜²æ­¢dnsæ³„éœ²ï¼ˆå¯ç”¨å°±æ³„éœ²ï¼‰ 
#    - https://dns.alidns.com/dns-query # é˜¿é‡Œï¼ˆå›½å†…ç¨³å®šï¼‰
#    - https://doh.pub/dns-query # è…¾è®¯ (å¢ƒå†…ï¼ŒDoHï¼Œå¯ä½œä¸ºå¤‡é€‰)

  nameserver-policy:
    "geosite:cn,private": # å›½å†…åŸŸåå’Œç§æœ‰åŸŸåå¼ºåˆ¶èµ°å›½å†… DNS
      - https://223.5.5.5/dns-query # é˜¿é‡Œ
      - https://doh.pub/dns-query   # è…¾è®¯
      - 223.5.5.5                   # é˜¿é‡Œ UDP
      - 119.29.29.29                # è…¾è®¯ UDP
    "geo:cn":                       # ä¹Ÿå¯ä»¥ç”¨ geo:cn åŒ¹é… IP
      - https://223.5.5.5/dns-query
      - https://doh.pub/dns-query
      - 223.5.5.5                   # é˜¿é‡Œ UDP
      - 119.29.29.29                # è…¾è®¯ UDP
    "geosite:gfw":                  # æ–°å¢ï¼šGFW åˆ—è¡¨åŸŸåå¼ºåˆ¶èµ°å›½å¤– DNS
      - https://1.1.1.1/dns-query
      - https://dns.google/dns-query
      - 1.1.1.1
      - 8.8.8.8
    "geosite:geolocation-!cn":      # æ–°å¢ï¼šéä¸­å›½å¤§é™†åŸŸåå¼ºåˆ¶èµ°å›½å¤– DNS
      - https://1.1.1.1/dns-query
      - https://dns.google/dns-query
      - 1.1.1.1
      - 8.8.8.8
    "full-nameserver":              # æ–°å¢ï¼šæœ€ç»ˆå…œåº•ï¼Œæ‰€æœ‰æœªåŒ¹é…çš„åŸŸåæŸ¥è¯¢å¼ºåˆ¶èµ°å›½å¤– DNS
      - https://1.1.1.1/dns-query
      - https://dns.google/dns-query
      - 1.1.1.1
      - 8.8.8.8

  # å½“ `nameserver` ä¸­çš„ DNS æœåŠ¡å™¨è§£æå¤±è´¥æ—¶ï¼ŒClash ä¼šå°è¯•è¿™é‡Œçš„ DNSã€‚
  fallback:
    - 1.1.1.1 # Cloudflare DNSå¤‡ç”¨
    - 8.8.8.8 # Google DNSå¤‡ç”¨
  #    - 9.9.9.9                    # Quad9 (å¤‡é€‰ï¼Œæ›´æ³¨é‡éšç§å’Œå®‰å…¨æ€§)

  # `proxy-server-nameserver`: ç”¨äºä»£ç†æœåŠ¡å™¨è‡ªèº«çš„ DNS è§£æï¼Œä»…åŒ…å«å›½å¤– DNSã€‚
  proxy-server-nameserver:          # å½“è¯·æ±‚é€šè¿‡ä»£ç†ï¼ˆå³å›½å¤–ç«™ï¼‰æ—¶ä½¿ç”¨
    - https://1.1.1.1/dns-query     # Cloudflareï¼ŒDoH3
    - https://dns.google/dns-query  # Googleï¼ŒDoH3
    - 1.1.1.1
    - 8.8.8.8

# **æ§åˆ¶é¢æ¿**
external-controller: 127.0.0.1:9090
secret: "123465."
external-ui: "./ui"
external-ui-url: "https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip"

# **=============================== å…¨å±€è®¾ç½® ===============================**
# å½±å“å…¨å±€ç½‘ç»œå’Œç³»ç»Ÿçš„é…ç½®
# è®¾ç½®ä»£ç†ç›‘å¬çš„ç«¯å£ã€ç³»ç»Ÿå‚æ•°ç­‰
# æ§åˆ¶ä»£ç†å¦‚ä½•ä¸ç³»ç»Ÿäº¤äº’
port: 7890
socks-port: 7891 # SOCKS5 ä»£ç†ç«¯å£
redir-port: 7892 # é€æ˜ä»£ç†ç«¯å£ï¼Œç”¨äº Linux å’Œ MacOS
mixed-port: 7893 # HTTP(S) å’Œ SOCKS ä»£ç†æ··åˆç«¯å£
tproxy-port: 7894
allow-lan: true  # å…è®¸å±€åŸŸç½‘è¿æ¥
mode: rule
bind-address: "*" # ç»‘å®š IP åœ°å€ï¼Œä»…ä½œç”¨äº allow-lan ä¸º trueï¼Œ'*'è¡¨ç¤ºæ‰€æœ‰åœ°å€
ipv6: true
unified-delay: true  # æ›´æ¢å»¶è¿Ÿè®¡ç®—æ–¹å¼ï¼Œå»é™¤æ¡æ‰‹ç­‰é¢å¤–å»¶è¿Ÿ
tcp-concurrent: true # å¯ç”¨ TCP å¹¶å‘è¿æ¥ã€‚è¿™å…è®¸ Clash åŒæ—¶å»ºç«‹å¤šä¸ª TCP è¿æ¥ï¼Œå¯ä»¥æé«˜ç½‘ç»œæ€§èƒ½å’Œè¿æ¥é€Ÿåº¦
log-level: warning   # æŸ¥ä¸œè¥¿æ—¶æ”¹æˆinfo
find-process-mode: "strict"       # è®¾ç½®è¿›ç¨‹æŸ¥æ‰¾æ¨¡å¼ä¸ºä¸¥æ ¼æ¨¡å¼ï¼ŒClash ä¼šæ›´ç²¾ç¡®åœ°è¯†åˆ«å’ŒåŒ¹é…ç½‘ç»œæµé‡æ¥æºçš„è¿›ç¨‹
global-client-fingerprint: chrome # è®¾ç½®å…¨å±€å®¢æˆ·ç«¯æŒ‡çº¹ä¸º Chromeï¼Œä½¿ Clash åœ¨å»ºç«‹è¿æ¥æ—¶æ¨¡æ‹Ÿ Chrome æµè§ˆå™¨çš„ TLS æŒ‡çº¹ï¼Œå¢å¼ºéšç§æ€§å’Œç»•è¿‡æŸäº›ç½‘ç«™çš„æŒ‡çº¹æ£€æµ‹
keep-alive-idle: 600
keep-alive-interval: 15
disable-keep-alive: false

profile:
  store-selected: true # è®°å¿†é€‰æ‹©
  store-fake-ip: true

# **=============================== æµé‡å—…æ¢é…ç½® ===============================**
# å¯ç”¨æµé‡å—…æ¢åŠŸèƒ½ï¼Œç”¨äºç›‘æ§å’Œåˆ†æç½‘ç»œæµé‡
sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  force-domain:
    - "+.v2ex.com"
  skip-domain:
    - "+.baidu.com"
    - "+.bilibili.com"

# **=============================== TUN é…ç½® ===============================**
# é…ç½® TUN æ¨¡å¼ï¼Œé€‚ç”¨äºé€æ˜ä»£ç†å’Œé«˜æ•ˆæµé‡è½¬å‘
tun:
  enable: true
  stack: mixed # system/gvisor/mixed
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
  strict-route: true # é¿å…å†—ä½™è·¯ç”±æ±¡æŸ“ç³»ç»Ÿè¡¨
  dns-hijack:
    - any:53
    - tcp://any:53
  mtu: 1500 # å‡å°‘ MTU é—®é¢˜ï¼Œå¦‚ç½‘é¡µæ— æ³•æ‰“å¼€ã€æµ‹é€Ÿæ…¢
  gso: true # å¯ç”¨é€šç”¨åˆ†æ®µå¸è½½ï¼ˆæå‡æ€§èƒ½ï¼‰
  gso-max-size: 65536
  udp-timeout: 300 # UDP ä¼šè¯ä¿æŒæ—¶é—´

# **=============================== GEO æ•°æ®åº“é…ç½® ===============================**
# è¯¥é…ç½®ç”¨äºåŠ è½½åœ°ç†ä½ç½®ä¿¡æ¯æ•°æ®åº“ï¼ŒåŒ…æ‹¬ IP å’ŒåŸŸåçš„åœ°ç†ä½ç½®æ•°æ®
# åœ¨ä¸åŒçš„è§„åˆ™é…ç½®ä¸­ï¼Œå¯ä»¥ä½¿ç”¨åœ°ç†ä¿¡æ¯è¿›è¡Œæ›´ç²¾ç¡®çš„æµé‡è·¯ç”±

# GEO æ•°æ®åº“æ¨¡å¼é…ç½®ï¼Œå¯ç”¨è¯¥åŠŸèƒ½ä»¥è·å–å’Œä½¿ç”¨åœ°ç†ä½ç½®ä¿¡æ¯
geodata-mode: true

# GEO æ•°æ®åº“åŠ è½½æ¨¡å¼ï¼Œé€‰æ‹©åˆé€‚çš„å†…å­˜å ç”¨ç­–ç•¥
# 'memconservative' é€‚ç”¨äºè¾ƒä½å†…å­˜å ç”¨ï¼Œä¿è¯ç³»ç»Ÿæ€§èƒ½
geodata-loader: memconservative

# æ˜¯å¦è‡ªåŠ¨æ›´æ–° GEO æ•°æ®åº“ï¼Œé»˜è®¤æ¯48å°æ—¶æ›´æ–°ä¸€æ¬¡
geo-auto-update: true
# GEO æ•°æ®åº“æ›´æ–°é—´éš”æ—¶é—´ï¼Œå•ä½ä¸ºå°æ—¶
geo-update-interval: 48

# GEO æ•°æ®åº“æ–‡ä»¶ä¸‹è½½åœ°å€é…ç½®ï¼Œæä¾›å„ç±» GEO æ•°æ®æ–‡ä»¶çš„ URLï¼Œç¡®ä¿å®æ—¶æ›´æ–°
geox-url:
  geoip: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.metadb"


# **=============================== ä»£ç†ç»„è®¾ç½® ===============================**
# ä»£ç†ç»„ç”¨äºç®¡ç†ä¸åŒä»£ç†çš„åˆ†ç±»å’Œè°ƒåº¦ç­–ç•¥
# æ³¨æ„é”šç‚¹å¿…é¡»æ”¾åœ¨å¼•ç”¨çš„ä¸Šæ–¹ï¼Œå¯ä»¥é›†ä¸­æŠŠé”šç‚¹å…¨éƒ¨æ”¾yamlçš„é¡¶éƒ¨ã€‚

# **æ•´ä½“è°ƒç”¨æ¨¡ç‰ˆ**
pg: &pg
  type: select
  proxies:
    - Proxy
    - é¦™æ¸¯æ•…è½¬
    - ç¾å›½æ•…è½¬
    - æ–°åŠ å¡æ•…è½¬
    - é¦™æ¸¯å‡è¡¡åŠ é€Ÿ
    - ç¾å›½å‡è¡¡åŠ é€Ÿ
    - æ–°åŠ å¡å‡è¡¡åŠ é€Ÿ
    - é¦™æ¸¯è‡ªåŠ¨
    - ç¾å›½è‡ªåŠ¨
    - æ–°åŠ å¡è‡ªåŠ¨
    - è‡ªåŠ¨é€‰æ‹©
    - é¦™æ¸¯èŠ‚ç‚¹
    - ç¾å›½èŠ‚ç‚¹
    - æ—¥æœ¬èŠ‚ç‚¹
    - å…¨éƒ¨èŠ‚ç‚¹
    - DIRECTLY

rtt-balance-template: &rtt-lb 
  type: url-test 
  <<: *u_s
  lazy: false
  interval: 180
  tolerance: 15

# **ä»£ç†ç»„**
proxy-groups:
  - name: Proxy
    type: select
    proxies:
      - é¦™æ¸¯æ•…è½¬
      - ç¾å›½æ•…è½¬
      - æ–°åŠ å¡æ•…è½¬
      - é¦™æ¸¯å‡è¡¡åŠ é€Ÿ
      - ç¾å›½å‡è¡¡åŠ é€Ÿ
      - æ–°åŠ å¡å‡è¡¡åŠ é€Ÿ
      - é¦™æ¸¯è‡ªåŠ¨
      - ç¾å›½è‡ªåŠ¨
      - æ–°åŠ å¡è‡ªåŠ¨
      - è‡ªåŠ¨é€‰æ‹©
      - é¦™æ¸¯èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - å…¨éƒ¨èŠ‚ç‚¹
    icon: "https://raw.githubusercontent.com/Mithcell-Ma/icon/refs/heads/main/Manual_Test_Log.png"

  # AI ä¸»ç­–ç•¥ç»„ï¼šæ‰‹åŠ¨é€‰æ‹©å…¥å£
  - name: AI
    type: select
    proxies:
      - AI_ç¨³å®šèŠ‚ç‚¹ # ä¼˜å…ˆæ¨èï¼šä½¿ç”¨ç»è¿‡ç­›é€‰çš„ç¨³å®šèŠ‚ç‚¹ï¼Œå‡å°‘IPæ³¢åŠ¨
      - AI_è‡ªåŠ¨ä¼˜é€‰ # å¤‡ç”¨é€‰é¡¹ï¼šè‡ªåŠ¨å¯»æ‰¾æœ€ä¼˜ç¾æ–°èŠ‚ç‚¹ï¼Œç¡®ä¿å¯ç”¨æ€§
    icon: "https://github.com/DustinWin/ruleset_geodata/releases/download/icons/ai.png"

  # --- AI_ç¨³å®šèŠ‚ç‚¹ï¼šé’ˆå¯¹ AI æœåŠ¡ä¼˜åŒ–ï¼Œä¼˜å…ˆä¿æŒIPç¨³å®š ---
  - name: AI_ç¨³å®šèŠ‚ç‚¹
    type: fallback # ç­–ç•¥ç±»å‹ï¼šæ•…éšœè½¬ç§»ï¼Œä¼˜å…ˆä½¿ç”¨åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹
    <<: *u_s 
    url: https://cp.cloudflare.com/generate_204 
    interval: 7200 # æµ‹é€Ÿé—´éš”ï¼š2 å°æ—¶ (7200 ç§’)ï¼Œé™ä½èŠ‚ç‚¹åˆ‡æ¢é¢‘ç‡ï¼Œæœ‰åŠ©äºä¿æŒIPç¨³å®šæ€§
    strategy: consistent-hashing # ä¸€è‡´æ€§å“ˆå¸Œ,å‡å°‘IPæ³¢åŠ¨ã€‚
    max-failed-times: 1 # å¤±æ•ˆé˜ˆå€¼ï¼šèŠ‚ç‚¹æµ‹è¯•å¤±è´¥ 1 æ¬¡å³è®¤ä¸ºå¤±æ•ˆï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
    tolerance: 100 # RTT å®¹å¿åº¦ï¼šå‡å°‘å› ç½‘ç»œå¾®å°æ³¢åŠ¨å¯¼è‡´çš„é¢‘ç¹åˆ‡æ¢
    lazy: true 
    # èŠ‚ç‚¹ç­›é€‰å™¨ï¼Œä½¿ç”¨ filter ç²¾ç¡®ç­›é€‰å‡ºæ‚¨æƒ³è¦çš„ AI èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬å…¶å‰ç¼€
    # æ ¼å¼ï¼šä½¿ç”¨æ‚¨å®¢æˆ·ç«¯ä¸­æ˜¾ç¤ºçš„å®Œæ•´èŠ‚ç‚¹åç§°ï¼ŒåŒ…æ‹¬ "p2 Â»" å‰ç¼€
    # æ³¨æ„ï¼šfilter ä¸­çš„åç§°è¦ä¸ additional-prefix: "p2 Â»" ç”Ÿæ•ˆåçš„æ˜¾ç¤ºåç§°å®Œå…¨åŒ¹é…
    # **åŠ¡å¿…æ›¿æ¢ä¸ºä»å®¢æˆ·ç«¯å¤åˆ¶çš„ç²¾ç¡®åç§°ï¼Œå¤šä¸ªç”¨ | åˆ†éš”**
    filter: "s_500G Â»ğŸ‡ºğŸ‡¸ ç¾å›½-03|s_500G Â»ğŸ‡¸ğŸ‡¬ ç‹®åŸ-03|s_500G Â»ğŸ‡ºğŸ‡¸ ç¾å›½-01"
    icon: "https://testingcf.jsdelivr.net/gh/aihdde/Rules@master/icon/ai.png"

  # --- AI_è‡ªåŠ¨ä¼˜é€‰ï¼šAI ç¨³å®šèŠ‚ç‚¹å¤±æ•ˆæ—¶çš„å¤‡ç”¨æ–¹æ¡ˆï¼Œè¿½æ±‚æœ€ä½³é€Ÿåº¦ ---
  - name: AI_è‡ªåŠ¨ä¼˜é€‰
    type: url-test 
    <<: *u_s 
    url: https://cp.cloudflare.com/generate_204 # èŠ‚ç‚¹å¥åº·æ£€æŸ¥URL (æˆ–æ›´é’ˆå¯¹ AI æœåŠ¡çš„æµ‹é€ŸURL)
    interval: 3600 # æµ‹é€Ÿé—´éš”å»¶é•¿è‡³ 1 å°æ—¶ (3600 ç§’)ï¼Œå¹³è¡¡é€Ÿåº¦ä¸èµ„æºæ¶ˆè€—,é™ä½åˆ‡æ¢é¢‘ç‡
    tolerance: 50 # RTT å®¹å¿åº¦ï¼šé€‚åº¦å…è®¸å»¶è¿Ÿæ³¢åŠ¨ï¼Œé¿å…è¿‡äºé¢‘ç¹çš„åˆ‡æ¢
    lazy: false 
    # èŠ‚ç‚¹ç­›é€‰å™¨ï¼šä»…ç­›é€‰å‡ºç¾å›½å’Œæ–°åŠ å¡åœ°åŒºçš„èŠ‚ç‚¹ (å¤§å°å†™ä¸æ•æ„Ÿ)
    #    filter: "(?i)(ğŸ‡ºğŸ‡¸|ç¾å›½|ç¾åœ‹|US|united\\s?states|america|usa|æ´›æ‰çŸ¶|è¾¾æ‹‰æ–¯|New\\s?York|è¥¿é›…å›¾|ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|SG|Singapore)" # ä»…ç­›é€‰ç¾æ–°èŠ‚ç‚¹
    # preferred å‚æ•°ï¼šæŒ‡å®šå¸Œæœ›ä¼˜å…ˆé€‰æ‹©çš„èŠ‚ç‚¹åˆ—è¡¨
    # å¦‚æœæ‚¨å‘ç°æŸäº›èŠ‚ç‚¹ï¼Œè™½ç„¶æµ‹é€Ÿä¸æ€»æ˜¯ç¬¬ä¸€ï¼Œä½†å®é™…ä½“éªŒæ›´ä½³ï¼Œå¯ä»¥å°†å…¶åç§°åŠ å…¥
    # preferred:
    #   - 'æœºåœºè‡ªå®šä¹‰å‰ç¼€ Â»æŒ‡å®šèŠ‚ç‚¹åç§°' # å‡è®¾è¿™æ˜¯æ‚¨è®¤ä¸ºåœ¨è‡ªåŠ¨ä¼˜é€‰ä¸­ä¹Ÿè¾ƒç¨³å®šçš„èŠ‚ç‚¹
    #   - 's_500 Â»ğŸ‡ºğŸ‡¸ ç¾å›½-01'
    icon: "https://raw.githubusercontent.com/Mithcell-Ma/icon/refs/heads/main/ai_backup.png"

  # ğŸ§ª é«˜é˜¶æ™ºèƒ½å‡è¡¡æµ‹é€Ÿç»„ï¼ˆæ”¯æŒ RTT+è½®è¯¢ï¼ŒAndroid / macOS å‡å…¼å®¹ï¼‰
  - {
      name: é¦™æ¸¯å‡è¡¡åŠ é€Ÿ,
      <<: *rtt-lb,
      filter: "(?i)(é¦™æ¸¯|hk|ğŸ‡­ğŸ‡°|hong\\s?kong)",
      icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/release/icon/color/available.png",
    }
  - {
      name: ç¾å›½å‡è¡¡åŠ é€Ÿ,
      <<: *rtt-lb,
      filter: "(?i)(ğŸ‡ºğŸ‡¸|ç¾å›½|ç¾åœ‹|US|united\\s?states|america|usa|æ´›æ‰çŸ¶|è¾¾æ‹‰æ–¯|New\\s?York|è¥¿é›…å›¾)",
      icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/release/icon/color/available.png",
    }
  - {
      name: æ–°åŠ å¡å‡è¡¡åŠ é€Ÿ,
      <<: *rtt-lb,
      filter: "(?i)(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|SG|Singapore)",
      icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/release/icon/color/available.png",
    }

  - {
      name: é¦™æ¸¯æ•…è½¬,
      type: select,
      <<: *u_s,
      filter: "(?i)(é¦™æ¸¯|hk|ğŸ‡­ğŸ‡°|hong\\s?kong)",
      icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/icon/color/asn.png",
    }
  - {
      name: ç¾å›½æ•…è½¬,
      type: select,
      <<: *u_s,
      filter: "(?i)(ğŸ‡ºğŸ‡¸|ç¾å›½|ç¾åœ‹|US|united\\s?states|america|usa|æ´›æ‰çŸ¶|è¾¾æ‹‰æ–¯|New\\s?York|è¥¿é›…å›¾)",
      icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/icon/color/asn.png",
    }
  - {
      name: æ–°åŠ å¡æ•…è½¬,
      type: select,
      <<: *u_s,
      filter: "(?i)(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|SG|Singapore)",
      icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/icon/color/asn.png",
    }

  - {
      name: é¦™æ¸¯è‡ªåŠ¨,
      type: url-test,
      <<: *u_s,
      include-all: false,
      tolerance: 100,
      interval: 600,
      lazy: true,
      filter: "(?i)(é¦™æ¸¯|hk|ğŸ‡­ğŸ‡°|hong\\s?kong)",
      icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/release/icon/color/auto.png",
    }
  - {
      name: ç¾å›½è‡ªåŠ¨,
      type: url-test,
      <<: *u_s,
      include-all: false,
      tolerance: 100,
      interval: 600,
      lazy: true,
      filter: "(?i)(ğŸ‡ºğŸ‡¸|ç¾å›½|US|united\\s?states|america|usa|æ´›æ‰çŸ¶|è¾¾æ‹‰æ–¯|New\\s?York|è¥¿é›…å›¾)",
      icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/release/icon/color/auto.png",
    }
  - {
      name: æ–°åŠ å¡è‡ªåŠ¨,
      type: url-test,
      <<: *u_s,
      include-all: false,
      tolerance: 100,
      interval: 600,
      lazy: true,
      filter: "(?i)(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|SG|Singapore)",
      icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/release/icon/color/auto.png",
    }

  - name: è‡ªåŠ¨é€‰æ‹©
    type: url-test
    <<: *u_s
    url: https://cp.cloudflare.com/generate_204
    include-all: false
    tolerance: 50
    interval: 900 #å®‰å“å¯ç”¨1800ï¼Œä¹Ÿå°±æ˜¯åŠå°æ—¶
    lazy: false
    health-check:
      enable: true
      interval: 900
      url: https://cp.cloudflare.com/generate_204
      method: HEAD
      timeout: 5
      expected-status: "204"
    filter: "(?i)^((?!(DIRECTLY|DIRECT|Proxy|Traffic|Expire|Expired|è¿‡æœŸ|å‰©ä½™|æµé‡|å®˜ç½‘|è¶…æ—¶|timeout|å¤±æ•ˆ|Invalid|Test|æµ‹é€Ÿ|æœ¬åœ°|Local)).)*$"
    icon: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/icon/color/urltest.png"

  # ğŸ“º åª’ä½“å¹³å°
  - {
      name: TikTok,
      hidden: true,
      type: select,
      proxies:
        [
          ç¾å›½æ•…è½¬,
          ç¾å›½å‡è¡¡åŠ é€Ÿ,
          æ–°åŠ å¡æ•…è½¬,
          æ–°åŠ å¡å‡è¡¡åŠ é€Ÿ,
          ç¾å›½èŠ‚ç‚¹,
          æ–°åŠ å¡èŠ‚ç‚¹,
          æ—¥æœ¬èŠ‚ç‚¹,
        ],
      icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png",
    }
  - {
      name: YouTube,
      hidden: true,
      type: select,
      <<: *pg,
      icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png",
    }

  - name: Netflix
    hidden: true
    type: url-test
    <<: *u_s # å¼•ç”¨ä¸»ç”¨è®¢é˜…ç»„çš„èŠ‚ç‚¹ï¼ŒåŒ…å«äº†æ‰€æœ‰æœºåœºèŠ‚ç‚¹
    url: https://cp.cloudflare.com/generate_204
    interval: 300
    tolerance: 50
    lazy: false
    # filter: "(?i)(ğŸ‡ºğŸ‡¸|ç¾å›½|æ–°åŠ å¡|è‹±å›½|æ—¥æœ¬|é¦™æ¸¯|å°æ¹¾|éŸ©å›½)" 
    filter: "(?i)^((?!(DIRECTLY|DIRECT|Proxy|Traffic|Expire|Expired|è¿‡æœŸ|å‰©ä½™|æµé‡|å®˜ç½‘|è¶…æ—¶|timeout|å¤±æ•ˆ|Invalid|Test|æµ‹é€Ÿ|æœ¬åœ°|Local)).)*$"
    icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix.png"

  - name: Disney+
    hidden: true
    type: url-test
    <<: *u_s
    url: https://www.disneyplus.com/robots.txt
    interval: 300
    tolerance: 50
    lazy: false
    # filter: "(?i)(ğŸ‡ºğŸ‡¸|ç¾å›½|æ–°åŠ å¡|è‹±å›½|åŠ æ‹¿å¤§|æ¾³å¤§åˆ©äºš)" 
    filter: "(?i)^((?!(DIRECTLY|DIRECT|Proxy|Traffic|Expire|Expired|è¿‡æœŸ|å‰©ä½™|æµé‡|å®˜ç½‘|è¶…æ—¶|timeout|å¤±æ•ˆ|Invalid|Test|æµ‹é€Ÿ|æœ¬åœ°|Local)).)*$"
    icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Disney+.png"

  - {
      name: Speedtest,
      hidden: true,
      type: select,
      proxies: [DIRECTLY, Proxy],
      icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Speedtest.png",
    }
  - {
      name: OneDrive,
      hidden: true,
      type: select,
      proxies: [DIRECTLY, Proxy],
      icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/OneDrive.png",
    }
  - {
      name: Trackerslist,
      hidden: true,
      type: select,
      proxies: [DIRECTLY, Proxy],
      icon: "https://github.com/DustinWin/ruleset_geodata/releases/download/icons/trackerslist.png",
    }

  # ğŸŒ åŒºåŸŸèŠ‚ç‚¹ç›´é€‰ï¼ˆä¾› UI æ‰‹åŠ¨åˆ‡æ¢ï¼‰
  - {
      name: é¦™æ¸¯èŠ‚ç‚¹,
      type: select,
      <<: *u,
      skip-cert-verify: true,
      include-all: true,
      filter: "(?i)(é¦™æ¸¯|hk|ğŸ‡­ğŸ‡°|hong\\s?kong)",
      icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png",
    }
  - {
      name: ç¾å›½èŠ‚ç‚¹,
      type: select,
      <<: *u,
      skip-cert-verify: true,
      include-all: true,
      filter: "(?i)(ğŸ‡ºğŸ‡¸|ç¾å›½|US|united\\s?states|america|usa|æ´›æ‰çŸ¶|è¾¾æ‹‰æ–¯|New\\s?York|è¥¿é›…å›¾)",
      icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png",
    }
  - {
      name: æ–°åŠ å¡èŠ‚ç‚¹,
      type: select,
      <<: *u,
      skip-cert-verify: true,
      include-all: true,
      filter: "(?i)(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|SG|Singapore)",
      icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png",
    }
  - {
      name: æ—¥æœ¬èŠ‚ç‚¹,
      type: select,
      <<: *u,
      skip-cert-verify: true,
      include-all: true,
      filter: "(?i)(ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|æ±äº¬|ä¸œäº¬|JP|japan|tokyo|osaka)",
      icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png",
    }

  #  - { name: ç›´è¿åŸŸå, type: select, proxies: [DIRECTLY, Proxy], icon: "https://github.com/DustinWin/ruleset_geodata/releases/download/icons/cn.png" }
  - {
      name: å…¨éƒ¨èŠ‚ç‚¹,
      type: select,
      <<: *u,
      icon: "https://testingcf.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/World_Map.png",
      include-all: true,
      filter: "(?i)^((?!(DIRECTLY|DIRECT|Proxy|Traffic|Expire|Expired|è¿‡æœŸ|å‰©ä½™|æµé‡|å®˜ç½‘|è¶…æ—¶|timeout|å¤±æ•ˆ|Invalid|Test|æµ‹é€Ÿ|æœ¬åœ°|Local)).)*$",
    }
  - {
      name: æ¼ç½‘ä¹‹é±¼,
      type: select,
      <<: *pg,
      icon: "https://testingcf.jsdelivr.net/gh/aihdde/Rules@master/icon/fish.png",
    }

# **=============================== è§„åˆ™è®¾ç½® ===============================**
# ç”¨äºé…ç½®è§„åˆ™å¼•æ“ï¼Œå†³å®šå“ªäº›æµé‡èµ°å“ªäº›ä»£ç†
rules:
  # --- æ‹’ç»/é˜»æ­¢ç±»è§„åˆ™ (æœ€é«˜ä¼˜å…ˆçº§ï¼Œç›´æ¥æ‹¦æˆª) ---
  # è¿™äº›è§„åˆ™ä¸æ¶‰åŠ DNS è§£æï¼Œç›´æ¥æ‹’ç»ï¼Œåº”æ”¾åœ¨æœ€å‰é¢ï¼Œä»¥é˜»æ­¢ä¸å¿…è¦çš„æµé‡ã€‚
  - RULE-SET,AWAvenue_Ads_Rule,REJECT     # ç§‹é£å¹¿å‘Šè¿‡æ»¤
  # - RULE-SET,blackmatrix7_ad,REJECT     # å¹¿å‘Šè¿‡æ»¤
  # - RULE-SET,porn,REJECT                # è‰²æƒ…ç±»æ‹¦æˆª

  # --- ç²¾ç¡®çš„ IP / ASN è§„åˆ™ (å¼ºåˆ¶ no-resolveï¼Œé˜²DNSæ³„æ¼) ---
  # è¿™äº›è§„åˆ™ç›´æ¥æ ¹æ® IP åœ°å€åŒ¹é…ï¼Œä¸è¿›è¡Œ DNS è§£æã€‚ç¡®ä¿å®ƒä»¬åœ¨ä¾èµ–åŸŸåè§£æçš„è§„åˆ™ä¹‹å‰ã€‚
  - RULE-SET,cn_ip,DIRECTLY,no-resolve            # å›½å†… IP ä¼˜å…ˆç›´è¿
  - RULE-SET,geoip_cloudfront,DIRECTLY,no-resolve # Cloudfront IP ç›´è¿

  # æ˜ç¡®çš„ä»£ç†IPè§„åˆ™ï¼Œç¡®ä¿ç›¸å…³æœåŠ¡æµé‡ä¸æ³„æ¼
  - RULE-SET,telegram_ip,Proxy,no-resolve         # Telegram IP å¼ºåˆ¶èµ°ä»£ç†ï¼Œä¸åŠ no-resolveä¼šdnsæ³„æ¼ã€‚
  - RULE-SET,Telegram_No_Resolve,Proxy,no-resolve # Telegram æ— éœ€è§£æçš„è§„åˆ™
  - RULE-SET,geoip_cloudflare,AI,no-resolve       # Cloudflare IP å¯¼å‘ AI
  - RULE-SET,geoip_netflix,Proxy,no-resolve       # Netflix IP èµ°ä»£ç†

  # --- ç²¾ç¡®çš„ç›´è¿åŸŸåè§„åˆ™ (ç¡®ä¿å›½å†…æµé‡ç›´è¿) ---
  # è¿™äº›åŸŸåé€šå¸¸æ˜¯å›½å†…æˆ–æ˜ç¡®è¦æ±‚ç›´è¿çš„æœåŠ¡ï¼Œåº”åœ¨è¿›è¡Œé€šç”¨ä»£ç†åˆ¤æ–­å‰å°±ç¡®å®šç›´è¿ã€‚
  - DOMAIN-SUFFIX,julebu.co,DIRECTLY
  - RULE-SET,blackmatrix7_direct,DIRECTLY
  - RULE-SET,private_domain,DIRECTLY  # è‡ªå®šä¹‰ç§æœ‰åŸŸåï¼ˆå¦‚å†…ç½‘åŸŸåã€ä¸å¸Œæœ›ä»£ç†çš„ç‰¹å®šåŸŸåï¼‰
  - RULE-SET,cn_domain,DIRECTLY       # ä¸­å›½å¤§é™†åŸŸåï¼ˆå¦‚ç™¾åº¦ã€QQç­‰ï¼Œé€šå¸¸åŒ…å«åœ¨å›½å†…åŸŸåè§„åˆ™é›†ï¼‰

  # è‹¹æœæœåŠ¡ç›´è¿ (macOS) - æ”¾åœ¨å›½å†…åŸŸåä¹‹åï¼Œå› ä¸ºè‹¹æœæœåŠ¡å¯èƒ½æ¶‰åŠå…¨çƒCDNä½†ä¸­å›½åŒºåº”ç›´è¿ã€‚
  - DOMAIN-SUFFIX,apple.com,DIRECTLY
  - DOMAIN-SUFFIX,icloud.com,DIRECTLY
  - DOMAIN-SUFFIX,cdn-apple.com,DIRECTLY # é’ˆå¯¹è‹¹æœCDNåŠ é€Ÿ
  - RULE-SET,apple_cn_domain,DIRECTLY    # é’ˆå¯¹ Apple å›½å†…åŸŸåï¼Œç¡®ä¿ç›´è¿
  - DOMAIN-SUFFIX,ls.apple.com,DIRECTLY  # é’ˆå¯¹ Apple å®šä½ï¼Œç›´è¿è§„åˆ™

  # --- ç‰¹å®šæœåŠ¡/æµåª’ä½“/AI è§„åˆ™ (å¼ºåˆ¶ä»£ç†åˆ°æŒ‡å®šä»£ç†ç»„) ---
  # è¿™äº›æœåŠ¡é€šå¸¸éœ€è¦ç‰¹å®šçš„èŠ‚ç‚¹æˆ–ä¼˜åŒ–ï¼Œå› æ­¤åº”åœ¨é€šç”¨ä»£ç†è§„åˆ™ä¹‹å‰åŒ¹é…ã€‚
  # PROCESS-NAMEè§„åˆ™å¯¹äº macOS å’Œå®‰å“ï¼ˆå¦‚æœå®¢æˆ·ç«¯æ”¯æŒï¼‰å°¤å…¶æœ‰ç”¨ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šæŸä¸ªåº”ç”¨ç¨‹åºçš„æµé‡èµ°ä»£ç†ã€‚
  - PROCESS-NAME-REGEX,.*telegram.*,Proxy

  # å­¦æœ¯ç±»
  - DOMAIN-SUFFIX,lingq.com,AI
  - DOMAIN-SUFFIX,youglish.com,AI
  - DOMAIN-SUFFIX,deepl.com,AI
  - DOMAIN-SUFFIX,chat.openai.com,AI
  - DOMAIN-SUFFIX,grammarly.com,AI
  - DOMAIN-KEYWORD,sci-hub,AI
  - RULE-SET,ai,AI # AI è§„åˆ™é›†

  # å­¦ä¹ å¹³å°
  - DOMAIN-SUFFIX,edclub.com,Proxy
  - DOMAIN-SUFFIX,typingclub.com,Proxy
  - DOMAIN-SUFFIX,edclub-cdn.typingclub.com,Proxy
  - DOMAIN-SUFFIX,typingclub-cdn.typingclub.com,Proxy
  - DOMAIN-KEYWORD,typingclub,Proxy

  # åª’ä½“æœåŠ¡
  - RULE-SET,youtube_domain,YouTube # YouTube åŸŸå
  - RULE-SET,tiktok_domain,TikTok   # TikTok åŸŸå
  - RULE-SET,netflix_domain,Netflix # Netflix åŸŸå
  - RULE-SET,disney_domain,Disney+  # Disney åŸŸå
  # æœåŠ¡ç±»
  - RULE-SET,onedrive_domain,OneDrive   # OneDrive åŸŸå
  - RULE-SET,speedtest_domain,Speedtest # Speedtest åŸŸå
  - RULE-SET,telegram_domain,Proxy      # Telegram åŸŸå (æ³¨æ„ï¼ŒTelegram IP å·²åœ¨å‰é¢å¤„ç†)

  # --- é€šç”¨ä»£ç†è§„åˆ™ (æ•è·å¤§éƒ¨åˆ†éœ€ä»£ç†æµé‡) ---
  # è¿™äº›æ˜¯å¹¿æ³›çš„ä»£ç†è§„åˆ™ï¼Œè¦†ç›– GFW åˆ—è¡¨æˆ–éå›½å†…æµé‡ã€‚
  - RULE-SET,gfw_domain,Proxy # è¢«GFWé˜»æ–­çš„åŸŸåï¼Œèµ°ä»£ç†ï¼ˆéå¸¸é‡è¦ï¼‰
  - RULE-SET,geolocation-!cn,Proxy # éä¸­å›½å¤§é™†çš„åœ°ç†ä½ç½®æµé‡ï¼Œèµ°ä»£ç†
  - RULE-SET,proxy,Proxy # æœ€åçš„é€šç”¨ä»£ç†è§„åˆ™ï¼Œæ•è·æ‰€æœ‰æœªè¢«æ˜ç¡®åˆ†æµçš„ä»£ç†æµé‡

  # --- Tracker / BT ä¸‹è½½ (ç‰¹æ®Šæµé‡ï¼Œä¼˜å…ˆçº§è¾ƒä½) ---
  - RULE-SET,trackerslist,Trackerslist

  # --- æœ€ç»ˆå›é€€è§„åˆ™ (æœ€ä½ä¼˜å…ˆçº§ï¼Œæ•è·æ‰€æœ‰æœªåŒ¹é…æµé‡) ---
  - MATCH,æ¼ç½‘ä¹‹é±¼

# **=============================== è§„åˆ™æä¾›è€… ===============================**
# **ruleå¼•ç”¨è®¾ç½®**
rule-anchor:
  ip: &ip { 
      type: http,
      interval: 86400, 
      behavior: ipcidr, 
      format: mrs 
    }
  domain: &domain { 
      type: http, 
      interval: 86400, 
      behavior: domain, 
      format: mrs 
    }
  class: &class { 
      type: http, 
      interval: 86400, 
      behavior: classical, 
      format: text 
    }
  yaml: &yaml { 
      type: http, 
      interval: 86400, 
      behavior: domain, 
      format: yaml 
    }
  classical_yaml: &classical_yaml {
      type: http,
      interval: 86400,
      behavior: classical,
      format: yaml,
    }

# **åŠ¨æ€åŠ è½½è§„åˆ™é…ç½®ï¼Œæä¾›å®æ—¶æ›´æ–°çš„è§„åˆ™é›†åˆ**
rule-providers:
  # å¹¿å‘Šè¿‡æ»¤
  AWAvenue_Ads_Rule:
    {
      <<: *yaml,
      path: ./ruleset/AWAvenue_Ads_Rule_Clash.yaml,
      url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/main//Filters/AWAvenue-Ads-Rule-Clash.yaml",
    }
  blackmatrix7_ad:
    {
      <<: *yaml,
      path: ./ruleset/blackmatrix7_ad.yaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising.yaml",
    }
  # è‰²æƒ…ç±»æ‹¦æˆª
  porn:
    {
      <<: *domain,
      path: ./ruleset/category-porn.mrs,
      url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-porn.mrs",
    }
  # fake-ip è¿‡æ»¤ï¼ˆæ ¹æ®å¹³å°å…¼å®¹æ€§é€‰ç”¨ä¸€ä¸ªï¼‰
  fake_ip_filter_DustinWin:
    {
      <<: *domain,
      path: ./ruleset/fake_ip_filter_DustinWin.mrs,
      url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/fakeip-filter.mrs",
    }
  fake_ip_filter_juewuy:
    {
      <<: *class,
      path: ./ruleset/fake_ip_filter_juewuy.list,
      url: "https://github.com/juewuy/ShellCrash/blob/dev/public/fake_ip_filter.list",
    }

  # ç›´è¿ç±»è§„åˆ™
  blackmatrix7_direct:
    {
      <<: *yaml,
      path: ./ruleset/blackmatrix7_direct.yaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Direct/Direct.yaml",
    }
  private_domain:
    {
      <<: *domain,
      path: ./ruleset/private_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs",
    }
  cn_domain:
    {
      <<: *domain,
      path: ./ruleset/cn_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs",
    }
  cn_ip:
    {
      <<: *ip,
      path: ./ruleset/cn_ip.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs",
    }
  # BT ä¸‹è½½éšç§ç±»
  trackerslist:
    {
      <<: *domain,
      path: ./ruleset/trackerslist.mrs,
      url: "https://github.com/DustinWin/ruleset_geodata/raw/refs/heads/mihomo-ruleset/trackerslist.mrs",
    }

  # ä»£ç†ç±»è§„åˆ™
  proxy:
    {
      <<: *domain,
      path: ./ruleset/proxy.mrs,
      url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/proxy.mrs",
    }
  gfw_domain:
    {
      <<: *domain,
      path: ./ruleset/gfw_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.mrs",
    }
  geolocation-!cn:
    {
      <<: *domain,
      path: ./ruleset/geolocation-!cn.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs",
    }
  # å¹³å°ç±»è§„åˆ™
  # å­¦æœ¯ç±»
  ai:
    {
      <<: *domain,
      path: ./ruleset/ai,
      url: "https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/ai.mrs",
    }
  # cloudflare
  cloudflare:
    <<: *domain
    path: ./ruleset/cloudflare.mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/cloudflare.mrs

  geoip_cloudflare: {
      <<: *ip,
      path: ./ruleset/geoip_cloudflare.mrs,
      url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geoip/cloudflare.mrs",
    } # å¯ no-resolve
  # å›½å¤–åª’ä½“
  youtube_domain:
    {
      <<: *domain,
      path: ./ruleset/youtube_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs",
    }
  tiktok_domain:
    {
      <<: *domain,
      path: ./ruleset/tiktok_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs",
    }
  netflix_domain:
    {
      <<: *domain,
      path: ./ruleset/netflix_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/netflix.mrs",
    }
  disney_domain:
    {
      <<: *domain,
      path: ./ruleset/disney_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/refs/heads/meta/geo/geosite/disney.mrs",
    }
  geoip_netflix: {
      <<: *ip,
      path: ./ruleset/geoip_netflix.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs",
    } # å¯ no-resolve
  # Telegram
  telegram_domain:
    {
      <<: *yaml,
      path: ./ruleset/telegram_domain.yaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml",
    }
  telegram_ip:
    {
      <<: *ip,
      path: ./ruleset/telegram_ip.mrs,
      url: "https://github.com/DustinWin/ruleset_geodata/raw/refs/heads/mihomo-ruleset/telegramip.mrs",
    }
  Telegram_No_Resolve:
    {
      <<: *classical_yaml,
      path: ./ruleset/Telegram_No_Resolve.yaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Clash/Telegram/Telegram_No_Resolve.yaml",
    }
  # Apple
  apple_cn_domain:
    {
      <<: *domain,
      path: ./ruleset/apple_cn_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple-cn.mrs",
    }
  # å¾®è½¯
  onedrive_domain:
    {
      <<: *domain,
      path: ./ruleset/onedrive_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/onedrive.mrs",
    }
  speedtest_domain:
    {
      <<: *domain,
      path: ./ruleset/speedtest_domain.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs",
    }
  # å¯é€‰æ·»åŠ çš„ geoip åˆ†ç±»ï¼ˆå¦‚éœ€ç»†åˆ† IP å±‚å¤„ç†ï¼‰
  geoip_cloudfront: {
      <<: *ip,
      path: ./ruleset/geoip_cloudfront.mrs,
      url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cloudfront.mrs",
    } # å¯ no-resolve
